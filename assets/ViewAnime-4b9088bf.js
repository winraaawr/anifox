import{q as M,e as i,f as B,g as F,s as y,o as l,a as o,d as e,t as s,F as d,h as u,b as v,i as f,c as R,w as b,S as T}from"./index-0ad73c88.js";import{a as k}from"./axios-4a70c6fc.js";import q from"./PageNotFound404-1316fc54.js";import{L as C}from"./Loading-d1cea514.js";import"./logo-no-text-e311533e.js";import"./_plugin-vue_export-helper-c27b6911.js";const V={class:"min-h-screen bg-white dark:bg-zinc-950 pb-6"},I={key:0,class:"md:container grid grid-cols-1 md:grid-flow-row md:grid-cols-4 min-h-screen h-auto w-full pt-[80px] md:pt-[100px]"},L={class:"px-2 flex flex-col space-y-4 mb-6"},P=["src"],z={class:"text-gray-800 dark:text-white text-xl font-bold"},E={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},G=e("div",{class:"col-span-1"},[e("span",null,"Alternative Titles:")],-1),W={class:"flex flex-col col-span-2"},$={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},H=e("div",{class:"col-span-1"},[e("span",null,"Studio:")],-1),J={class:"flex flex-col col-span-2"},K={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},O=e("div",{class:"col-span-1"},[e("span",null,"Type:")],-1),Q={class:"flex flex-col col-span-2"},U={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},X=e("div",{class:"col-span-1"},[e("span",null,"Rating:")],-1),Z={class:"flex flex-col col-span-2"},ee={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},te=e("div",{class:"col-span-1"},[e("span",null,"Episodes:")],-1),se={class:"flex flex-col col-span-2"},ae={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},le=e("div",{class:"col-span-1"},[e("span",null,"Status:")],-1),oe={class:"flex flex-col col-span-2"},re={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},ne={class:"col-span-1"},ie={class:"flex flex-col col-span-2"},ce={class:"text-xs text-gray-800 dark:text-white grid grid-flow-row grid-cols-3"},de=e("div",{class:"col-span-1"},[e("span",null,"Season & Year:")],-1),ue={class:"flex flex-col col-span-2"},_e={class:"capitalize"},pe={class:"px-2 col-span-3 flex flex-col"},he={class:"flex flex-row md:grid md:grid-cols-3 justify-between border-orange-500 border-b-4 border-t-4 py-2"},ve={class:"p-2 text-gray-800 dark:text-white"},xe=e("h3",{class:"text-orange-500 font-bold"},"Rank",-1),ge={class:"p-2 text-gray-800 dark:text-white"},fe=e("h3",{class:"text-orange-500 font-bold"},"Popularity",-1),me={class:"p-2 text-gray-800 dark:text-white"},we=e("h3",{class:"text-orange-500 font-bold"},"Score",-1),ye={class:"flex flex-col border-orange-500 border-b-2 py-6"},be=e("h1",{class:"text-gray-800 dark:text-white font-bold mb-4"},"Synopsis",-1),ke={class:"text-gray-800 dark:text-white text-sm mb-4"},Ae={class:"flex flex-wrap text-white text-xs"},Ne=e("span",{class:"mr-2"},"Genres: ",-1),De={class:"mr-2"},Ye={class:"mr-2"},je={class:"mr-2"},Se={key:0,class:"py-6 border-orange-500 border-b-2"},Me=e("h1",{class:"text-gray-800 dark:text-white font-bold mb-4"}," Watch Trailer ",-1),Be=["src"],Fe={key:1,class:"py-6 grid grid-cols-2 grid-flow-row gap-y-2 gap-x-4"},Re=e("h1",{class:"text-gray-800 dark:text-white font-bold mb-2 col-span-2"}," Related Anime ",-1),Te=["href"],qe={class:"uppercase font-bold text-sm text-orange-500"},Ce={class:"w-full whitespace-nowrap overflow-hidden overflow-ellipsis font-bold text-base md:text-xl text-gray-800 dark:text-white mb-4 group-hover:text-orange-500 transition-all"},Ve=["src"],Ie={key:1,class:""},Le="https://api.jikan.moe/v4/anime/",Pe={__name:"Anime",async setup(A){let _,x;const N=M(),n=i(),h=i(!1),g=i([]),m=i(),w=i(),p=i(),t=i({}),D=N.params.id;async function Y(){try{const r=await k.get("https://api.jikan.moe/v4/anime/"+D+"/full");return n.value=r.status,r.data.data}catch(r){return n.value=r.status,r}}async function j(r){try{return(await k.get(Le+r)).data.data}catch(c){return c.status}}async function S(r){let c=[];for(var a in r.relations)(r.relations[a].relation==="Prequel"||r.relations[a].relation==="Sequel")&&c.push({anime:await j(r.relations[a].entry[0].mal_id),relation:r.relations[a].relation});return c}return t.value=([_,x]=B(()=>Y()),_=await _,x(),_),F(async()=>{n.value===200?(g.value=await S(t.value),t.status==="Not yet aired"?p.value="Airs on:":t.status==="Finished Airing"?p.value="Aired:":t.status==="Currently Airing"?p.value="Airing:":p.value="Aired:",m.value=y(new Date(t.value.aired.from)).format("MMM DD YYYY"),w.value=y(new Date(t.value.aired.to)).format("MMM DD YYYY"),h.value=!0):(n.value=t.value.response.status,h.value=!0,console.log(n.value))}),(r,c)=>(l(),o("div",V,[n.value===200&&h.value===!0?(l(),o("div",I,[e("div",L,[e("img",{class:"max-h-[480px] object-cover object-center",src:t.value.images.jpg.large_image_url},null,8,P),e("h1",z,s(t.value.title),1),e("div",E,[G,e("div",W,[(l(!0),o(d,null,u(t.value.titles,a=>(l(),o("span",null,s(a.title),1))),256))])]),e("div",$,[H,e("div",J,[(l(!0),o(d,null,u(t.value.studios,a=>(l(),o("span",null,s(a.name!=null?a.name:"N/A"),1))),256))])]),e("div",K,[O,e("div",Q,[e("span",null,s(t.value.type!=null?t.value.type:"N/A"),1)])]),e("div",U,[X,e("div",Z,[e("span",null,s(t.value.rating),1)])]),e("div",ee,[te,e("div",se,[e("span",null,s(t.value.episodes!=null?t.value.episodes:"N/A"),1)])]),e("div",ae,[le,e("div",oe,[e("span",null,s(t.value.status!=null?t.value.status:"N/A"),1)])]),e("div",re,[e("div",ne,[e("span",null,s(p.value),1)]),e("div",ie,[e("span",null,s(t.value.aired.from!=null?m.value:"???")+" - "+s(t.value.aired.to!=null?w.value:"??? ?? ????"),1)])]),e("div",ce,[de,e("div",ue,[e("span",_e,s(t.value.season!=null?t.value.season:"N/A")+" "+s(t.value.year!=null?t.value.year:"N/A"),1)])])]),e("div",pe,[e("div",he,[e("div",ve,[xe,e("span",null,s(t.value.rank!=null?t.value.rank:"N/A"),1)]),e("div",ge,[fe,e("span",null,s(t.value.popularity!=null?t.value.popularity:"N/A"),1)]),e("div",me,[we,e("span",null,s(t.value.score!=null?t.value.score:"N/A"),1)])]),e("div",ye,[be,e("p",ke,s(t.value.synopsis!=null?t.value.synopsis:"N/A"),1),e("div",Ae,[Ne,(l(!0),o(d,null,u(t.value.genres,a=>(l(),o("span",De,s("    "+a.name),1))),256)),(l(!0),o(d,null,u(t.value.themes,a=>(l(),o("span",Ye,s(" "+a.name),1))),256)),(l(!0),o(d,null,u(t.value.demographics,a=>(l(),o("span",je,s("    "+a.name),1))),256))])]),t.value.trailer.embed_url!=null?(l(),o("div",Se,[Me,e("iframe",{class:"w-full h-[300px] md:h-[600px]",src:t.value.trailer.embed_url.replace("&autoplay=1",""),title:"YouTube video player",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,Be)])):v("",!0),g.value.length!=0?(l(),o("div",Fe,[Re,(l(!0),o(d,null,u(g.value,a=>(l(),o("div",null,[e("a",{href:"/anime/"+a.anime.mal_id,class:"group"},[e("div",null,[e("span",qe,s(a.relation),1),e("h1",Ce,s(a.anime.title),1)]),e("img",{src:a.anime.images.jpg.large_image_url,class:"w-full h-[200px] object-cover object-center rounded-md border-2 border-transparent group-hover:border-orange-500 transition-all"},null,8,Ve)],8,Te)]))),256))])):v("",!0)])])):v("",!0),n.value>=400&&h.value===!0?(l(),o("div",Ie,[f(q)])):v("",!0)]))}},Je={__name:"ViewAnime",setup(A){return(_,x)=>(l(),R(T,null,{default:b(()=>[f(Pe)]),fallback:b(()=>[f(C)]),_:1}))}};export{Je as default};
